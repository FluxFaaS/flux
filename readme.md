# FluxFaaS MVP

ğŸš€ **FluxFaaS** æ˜¯ä¸€ä¸ªç”¨ Rust æ„å»ºçš„è½»é‡çº§ç§æœ‰ Serverless å¹³å°ï¼ŒåŸºäº Silent æ¡†æ¶ã€‚

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- ğŸ”§ **æ¨¡å—åŒ–æ¶æ„** - å‡½æ•°æ³¨å†Œã€è°ƒåº¦ã€æ‰§è¡Œå®Œå…¨åˆ†ç¦»
- âš¡ **é«˜æ€§èƒ½** - åŸºäº Tokio å¼‚æ­¥è¿è¡Œæ—¶
- ğŸ›¡ï¸ **ç±»å‹å®‰å…¨** - å®Œæ•´çš„ Rust ç±»å‹ç³»ç»Ÿä¿æŠ¤
- ğŸ¯ **è½»é‡çº§** - æœ€å°åŒ–ä¾èµ–ï¼Œä¸“æ³¨æ ¸å¿ƒåŠŸèƒ½
- ğŸ”„ **å¯æ‰©å±•** - é¢„ç•™å¤šç§æ‰©å±•æ¥å£

## ğŸ—ï¸ æ ¸å¿ƒæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Gateway       â”‚    â”‚   Scheduler     â”‚    â”‚    Runtime      â”‚
â”‚                 â”‚    â”‚                 â”‚    â”‚                 â”‚
â”‚ - HTTP API      â”‚â—„â”€â”€â–ºâ”‚ - å‡½æ•°è°ƒåº¦      â”‚â—„â”€â”€â–ºâ”‚ - å‡½æ•°æ‰§è¡Œ      â”‚
â”‚ - è·¯ç”±ç®¡ç†      â”‚    â”‚ - è´Ÿè½½å‡è¡¡      â”‚    â”‚ - è¶…æ—¶æ§åˆ¶      â”‚
â”‚ - è¯·æ±‚å¤„ç†      â”‚    â”‚ - çŠ¶æ€ç®¡ç†      â”‚    â”‚ - é”™è¯¯å¤„ç†      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Functions     â”‚
                    â”‚                 â”‚
                    â”‚ - å‡½æ•°æ³¨å†Œè¡¨    â”‚
                    â”‚ - å…ƒæ•°æ®ç®¡ç†    â”‚
                    â”‚ - å­˜å‚¨åç«¯      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Rust 1.70+
- Cargo

### å®‰è£…è¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/FluxFaaS/flux.git
cd flux

# æ„å»ºé¡¹ç›®
cargo build

# è¿è¡Œ MVP
cargo run
```

### ä½¿ç”¨ CLI

ç¨‹åºå¯åŠ¨åä¼šè¿›å…¥äº¤äº’å¼ CLI æ¨¡å¼ï¼š

```
ğŸ¯ FluxFaaS Interactive CLI
===========================
Available commands:
  1. list     - List all functions
  2. invoke   - Invoke a function
  3. register - Register a new function
  4. status   - Show system status
  5. help     - Show this help
  6. quit     - Exit the CLI

flux>
```

## ğŸ“ ç¤ºä¾‹ä½¿ç”¨

### 1. æŸ¥çœ‹å‡½æ•°åˆ—è¡¨
```
flux> list
ğŸ“‹ Registered Functions:
------------------------
1. hello - A simple hello world function
2. echo - Echo input back to output
3. add - Add two numbers
Total: 3 functions
```

### 2. è°ƒç”¨å‡½æ•°
```
flux> invoke
Function name: hello
Input (JSON format, or press Enter for empty):
ğŸš€ Invoking function 'hello'...
âœ… Function executed successfully!
ğŸ“Š Execution time: 0ms
ğŸ“¤ Output: {
  "input": {},
  "message": "Hello, World!"
}
ğŸ” Status: Success
```

### 3. åŠ æ³•å‡½æ•°ç¤ºä¾‹
```
flux> invoke
Function name: add
Input (JSON format, or press Enter for empty): {"a": 5, "b": 3}
ğŸš€ Invoking function 'add'...
âœ… Function executed successfully!
ğŸ“Š Execution time: 0ms
ğŸ“¤ Output: {
  "result": 8
}
ğŸ” Status: Success
```

### 4. æ³¨å†Œæ–°å‡½æ•°
```
flux> register
Function name: greet
Description (optional): Greeting function
Code: return "Hello, " + name + "!"
âœ… Function 'greet' registered successfully!
```

## ğŸ§ª å†…ç½®ç¤ºä¾‹å‡½æ•°

### Hello World
- **åç§°**: `hello`
- **åŠŸèƒ½**: è¿”å› "Hello, World!" æ¶ˆæ¯
- **è¾“å…¥**: ä»»æ„ JSON
- **è¾“å‡º**: `{"message": "Hello, World!", "input": <è¾“å…¥>}`

### Echo
- **åç§°**: `echo`
- **åŠŸèƒ½**: å›å£°å‡½æ•°ï¼ŒåŸæ ·è¿”å›è¾“å…¥
- **è¾“å…¥**: ä»»æ„ JSON
- **è¾“å‡º**: è¾“å…¥çš„åŸå§‹ JSON

### åŠ æ³•è®¡ç®—
- **åç§°**: `add`
- **åŠŸèƒ½**: ä¸¤æ•°ç›¸åŠ 
- **è¾“å…¥**: `{"a": æ•°å­—, "b": æ•°å­—}`
- **è¾“å‡º**: `{"result": å’Œ}`

## ğŸ”§ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Rust 2024 Edition
- **å¼‚æ­¥è¿è¡Œæ—¶**: Tokio
- **Web æ¡†æ¶**: Silent (è®¡åˆ’ä¸­)
- **åºåˆ—åŒ–**: Serde
- **é”™è¯¯å¤„ç†**: thiserror + anyhow
- **æ—¥å¿—**: tracing
- **æ—¶é—´å¤„ç†**: chrono
- **UUID**: uuid

## ğŸ“¦ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ main.rs              # ç¨‹åºå…¥å£å’Œ CLI ç•Œé¢
â”œâ”€â”€ functions/           # å‡½æ•°ç®¡ç†æ¨¡å—
â”‚   â”œâ”€â”€ mod.rs          # å‡½æ•°æ•°æ®ç»“æ„å’Œé”™è¯¯å®šä¹‰
â”‚   â””â”€â”€ registry.rs     # å‡½æ•°æ³¨å†Œè¡¨å®ç°
â”œâ”€â”€ runtime/            # è¿è¡Œæ—¶æ¨¡å—
â”‚   â”œâ”€â”€ mod.rs         # ç®€å•è¿è¡Œæ—¶å®ç°
â”‚   â””â”€â”€ executor.rs    # æ‰§è¡Œå™¨æ¥å£ï¼ˆé¢„ç•™ï¼‰
â”œâ”€â”€ scheduler/         # è°ƒåº¦å™¨æ¨¡å—
â”‚   â”œâ”€â”€ mod.rs        # ç®€å•è°ƒåº¦å™¨å®ç°
â”‚   â””â”€â”€ simple.rs     # é«˜çº§è°ƒåº¦å™¨ï¼ˆé¢„ç•™ï¼‰
â””â”€â”€ gateway/          # ç½‘å…³æ¨¡å—ï¼ˆå¼€å‘ä¸­ï¼‰
    â”œâ”€â”€ mod.rs       # ç½‘å…³æ ¸å¿ƒ
    â”œâ”€â”€ routes.rs    # è·¯ç”±å®šä¹‰
    â””â”€â”€ handlers.rs  # è¯·æ±‚å¤„ç†å™¨
```

## ğŸ›£ï¸ å‘å±•è·¯çº¿

### MVP é˜¶æ®µ âœ…
- [x] æ ¸å¿ƒæ¶æ„è®¾è®¡
- [x] å‡½æ•°æ³¨å†Œè¡¨
- [x] å‡½æ•°æ‰§è¡Œå™¨
- [x] åŸºç¡€è°ƒåº¦å™¨
- [x] CLI äº¤äº’ç•Œé¢
- [x] ç¤ºä¾‹å‡½æ•°

### ç¬¬äºŒé˜¶æ®µ ğŸš§
- [ ] HTTP ç½‘å…³ï¼ˆåŸºäº Silentï¼‰
- [ ] RESTful API æ¥å£
- [ ] å‡½æ•°çƒ­é‡è½½
- [ ] åŸºç¡€ç›‘æ§æŒ‡æ ‡

### ç¬¬ä¸‰é˜¶æ®µ ğŸ”®
- [ ] å®¹å™¨åŒ–æ‰§è¡Œ
- [ ] å¤šè¯­è¨€æ”¯æŒ
- [ ] é›†ç¾¤éƒ¨ç½²
- [ ] Web ç®¡ç†ç•Œé¢

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»º Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ Apache-2.0 è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ğŸ™ è‡´è°¢

- [Silent](https://github.com/hubertshelley/silent) - Web æ¡†æ¶æ”¯æŒ
- [Tokio](https://tokio.rs/) - å¼‚æ­¥è¿è¡Œæ—¶
- [Serde](https://serde.rs/) - åºåˆ—åŒ–æ¡†æ¶

---

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼
